Ruby on Rails のメンテナンスポリシー
====================================

Railsフレームワークのサポートは、新機能（New feature）、バグ修正（bug fixes）、セキュリティ問題（security issues）の3つのグループに分かれています。セキュリティリリースを除いて、すべてのバージョン表記は`X.Y.Z`の形式に従います。

--------------------------------------------------------------------------------

バージョニング
------------

Railsのバージョン命名は[semver](http://semver.org/)のSemantic Versioningをシフトしたものに従っています。

**パッチ`Z`**

このパッチではバグ修正のみを行います。API変更や機能追加はこのパッチでは行いません。ただし、必要に応じてセキュリティ修正が行われることもあります。

**マイナー`Y`**

新機能にAPIの変更が含まれることもあります（Semverで言うメジャーバージョンに相当）。破壊的変更（breaking changes）の場合は、必ず事前にマイナーリリースまたはメジャーリリースで非推奨通知を行います。

**メジャー`X`**

新機能にAPIの変更も含まれる可能性が高まります。Railsにおけるマイナーリリースとメジャーリリースの違いは、破壊的変更の大きさの違いであり、通常は特別な場合にのみ行われます。

新機能
------------

新機能はmainブランチにのみ追加されます。パッチリリースで新機能を追加することはありません。

バグ修正
---------

マイナーリリースのバグ修正が行われるのは、シリーズの最初のリリースから1年間です。
たとえば、理論上の1.1.0が2023年1月1日にリリースされた場合、2024年1月1日までバグ修正が行われ、以後はサポート対象外とみなされます。

バグ修正は通常、mainブランチに追加されます。十分なニーズがある場合は、最新リリースシリーズのx-y-stableブランチにバックポートされます。x-y-stableブランチに十分なバグ修正が追加されると、そのブランチから新しいパッチリリースをビルドします。
たとえば、理論上の1.2.2パッチリリースは、1-2-stableブランチからビルドされます。

サポート対象外のシリーズでは、バグフィックスがたまたま安定版ブランチに入ることがありますが、正式版としてリリースされることはありません。サポート対象外のバージョンでは、Gitでアプリケーションを安定版ブランチに向けることが推奨されます。

セキュリティ問題
---------------

マイナーリリースでセキュリティ修正が提供されるのは、シリーズの最初のリリースから2年間です。
たとえば、理論上の1.1.0 が2023年1月1日にリリースされた場合、2025年1月1日までセキュリティ修正が提供され、以後のサポートは終了します。

現在のリリースシリーズ、および１つ前のリリースシリーズには、セキュリティ問題発生時にパッチや新バージョンが提供されます。

これらのリリースは、直近にリリースされたバージョンにセキュリティパッチを適用してリリースされます。続いて、それらのパッチはx-y-stable（安定版）ブランチの最後に適用されます。たとえば、1.2.3というセキュリティリリースは、理論上1.2.2を元にビルドされ、1-2-stableの最後に追加されます。つまり、最新のRailsを利用していればセキュリティリリースへのアップグレードを容易に行えます。

セキュリティリリースには、直接的なセキュリティパッチ（修正プログラム）のみが含まれます。セキュリティパッチが原因で発生したセキュリティと無関係なバグの修正は、リリースのx-y-stableブランチで公開され、バグ修正ポリシーに基づいて新しいgemとしてのみリリースされます。

セキュリティリリースは、最後のセキュリティリリースのブランチ/タグからカットされます。そうしないと、セキュリティリリースで破壊的変更が生じる可能性があります。セキュリティリリースは、アプリケーションのアップグレードを継続しやすくすることで、アプリケーションが安全であることを保証するために必要な変更のみを含むべきです。

NOTE: 訳注：[2024年8月に更新](https://github.com/rails/rails/pull/52471)された本メンテナンスポリシーは、それ以降のリリースにのみ適用されます。したがって[Rails 6.1](https://railsguides.jp/6_1_release_notes.html)の[EOL](https://www.google.com/search?q=EOL)は[旧メンテナンスポリシー](https://github.com/yasslab/railsguides.jp/pull/1651/files)に沿って2024年10月1日、[Rails 7.0](https://railsguides.jp/7_0_release_notes.html)は2025年4月1日、[Rails 7.1](https://railsguides.jp/7_1_release_notes.html)は2025年10月1日のままとなります。([» 原文を見る](https://rubyonrails.org/maintenance#security))


サポート終了となるリリースシリーズ
--------------------------

あるリリースシリーズのサポートが終了した場合、バグ修正とセキュリティ問題の対応は各自の責任で行ってください。場合によっては修正のバックポートの提供とマージが行われる可能性もありますが、新バージョンがリリースされることはありません。Gitでアプリケーションを安定版ブランチに向けることを推奨します。アプリケーションで使われているバージョンのメンテナンスが難しい場合は、サポート対象のバージョンにアップグレードしてください。

リリースのスケジュール
----------------

私たちは、新機能を含むバージョンを6か月おきにリリースすることを目指しています。まれに1年間リリースが行われなかった場合は、前回のリリースのサポート期間を次回のリリースが行われるまで延長します。

npmパッケージ
------------

npmの制約により、Railsが提供する[npmパッケージ][]のセキュリティリリースに4桁目を使えなくなりました。つまり、同等のgemバージョン`7.0.1.4`の代わりに、npmパッケージのバージョンは`7.0.104`と表記されます。

バージョンは`X.Y.Z0A`として算出されます（`A`はセキュリティリリース）。

[npmパッケージ]: https://www.npmjs.com/org/rails
